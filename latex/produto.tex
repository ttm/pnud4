\documentclass[12pt]{article}
\usepackage[usenames,dvipsnames]{color}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{framed}
\usepackage[T1]{fontenc}
\usepackage[toc,page]{appendix}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{fancyvrb}
\usepackage[hmargin=2cm,vmargin=2cm]{geometry}
\usepackage{lastpage}
\usepackage{pdfpages}
\usepackage{makeidx}
\usepackage{hyperref}
\pagestyle{fancy}
\usepackage{enumitem}
% cabecalho e rodapé
\setlength{\headheight}{120pt}
\setlength{\textheight}{550pt}
\renewcommand{\headrulewidth}{0pt}
\lhead{\includegraphics[scale=0.03]{brasao.png}}
%\chead{\includegraphics[scale=0.5]{logo-brasil-sem-pobreza2.png}}
\rhead{\includegraphics[scale=0.5]{logo-pnud.png}}
\cfoot{\textbf{\ProjectCode\ - Inovando a democracia participativa}}
\rfoot{\thepage}

\hyphenation{par-ti-ci-pa-ção}
\bibliographystyle{ieeetr}

% definições sobre o autor e o produto
\newcommand{\MyName}{Renato Fabbri}
\newcommand{\MySurnameForename}{Fabbri, Renato}
\newcommand{\SupervisorName}{Gabriella Vieira Oliveira Gonçalves}
\newcommand{\MyEmail}{renato.fabbri@gmail.com}
\newcommand{\ContractNumber}{2013/000566}
\newcommand{\ContractYear}{2014}
\newcommand{\ProjectCode}{Projeto BRA/12/018}
\newcommand{\NomeSecretaria}{Secretaria-Geral da Presidência da República}
%Q\newcommand{\SiglaSecretaria}{SG/PR}
\newcommand{\SiglaSecretaria}{Secretaria: SNAS }
\newcommand{\ProductNumber}{04}
\newcommand{\ProductTitle}{Proposta de adaptações e incrementos para a interface do portal federal de participação social e suas ferramentas}
\newcommand{\ProductSubtitle}{com elementos visuais e de usabilidade para mecanismos de priorização de conteúdos e autorregulação}
\newcommand{\ProductDescription}{"Proposta de adaptações e incrementos para a interface do portal federal de participação sociais e suas ferramentas, com elementos visuais e de usabilidade para mecanismos de priorização de conteúdos e auto-regulação"}

\newcommand{\ProductValue}{R\$ 21,600 (vinte e um mil e seiscentos reais)}
\newcommand{\ObjetoContratacao}{
Aporte de conhecimentos e tecnologias para especificação de vocabulário e ferramentas assistidas que utilizam processamento de linguagem natural e análise de redes complexas para o conteúdo do portal da participação social.
}
\newcommand{\DataEntrega}{08 de Setembro de 2014}
\newcommand{\PalavrasChave}{reconhecimento de padrões, redes complexas, processamento de linguagem natural, participação social}

% lista de abreviações
\makeindex

\begin{document}


\input{folhaderosto.tex}
\input{folhadeaprovacao.tex}
\input{folhadeidentificacao.tex}
\tableofcontents
\newpage


\begin{abstract}
Este documento descreve rotinas de priorização de conteúdo e de autorregulação para o portal federal de participação social. Como parte da exposição e do Produto, foi implementado um sistema de recomendação de participantes para outros participantes e linha editorial do participa.br. Este sistema está online e visa atender a requisitos como os do ActionItem 3234 do Noosfero, que prevê recomendação de participantes, comunidades e empreendimentos. Como generalização da proposta, é delineada  recomendação de recursos como trilhas, artigos, comentários e palavras. O consultor e equipe do participa.br entendem que a disponibilização destes recursos em formato aberto - e com documentações reativas para fácil geração de derivados, críticas e propostas - é instrumental para a democracia participativa e online, promovendo empoderamento e transparência.\\

{\bf Palavras-chave:} \PalavrasChave.
\end{abstract}
\newpage

\section{Introdução}
\subsection{Contexto e importância da consultoria}
Em confluência com o portal federal de participação social (Participa.br) e o Plano Nacinal de Participação Social (PNPS), esta consultoria propõe métodos de classificação e priorização de conteúdo e formas de autorregulação para o portal. O presente produto apresenta ``formas de priorização de conteúdo e de autorregulação'' na forma de um sistema de recomendação de recursos para participantes e linha editorial. No começo da seção~\ref{sec:dev} está explicitada a motivação para a implementação e a relação com o cumprimento dos termos deste Produto~\cite{termoReferencia}.

\subsection{Contexto e importância do Produto}
\subsubsection{Objetivos}
Este produto tem por objetivo principal a disponibilização de um sistema de recomendação de recursos do participa.br para usuários, tanto via critérios personalizados quanto considerando comunidades e linha editorial. Através deste sistema de recomendação, ficam facilitados, até mesmo prontamente disponíveis, diversos processos de autorregulação, de geração de resumos, de geração de relatórios e análises informativas. Objetivos secundários são:
\begin{itemize}
    \item Disponibilização de uma API HTTP, para uso no participa.br, conforme requisitado pela equipe do Participa.br em diversos itens dos produtos~\cite{prodExtra}.
    \item A exposição destes algoritmos de recomendação aos visitantes em páginas HTML comuns, para edição execução dos trechos de código utilizados pela plataforma federal de participação social. Feito no IPython Notebook levantado para este trabalho~\cite{iNotebook}.
    \item Aproveitamento do endpoint SparQL com os dados do participa.br, fortalecendo as tecnologias de dados linkados e web 3.0.
    \item Em reunião com a consultora Daniela Feitosa, foi delineada a pertinência de um sistema de recomendação de perfis para um ActionIntem em andamento para o participa.br~\cite{AIFeitosa}. Este produto visa suprir esta necessidade através da API disponibilizada.
    \item A entrega das tecnologias livres com simplicidade e boa documentação, favorecendo ao máximo o aproveitamento deste trabalho para melhoras, geração de derivados e novas e independentes tecnologias. Isso pode ser observado no repositório git público deste produto~\cite{pnud4}.
    \item Compatibilizar ao máximo a entrega deste produto às demandas da equipe do participa.br.
    \item Cumprir de forma precisa e pertinente a descrição deste quarto produto no Termo de Referência.
\end{itemize}
\subsubsection{Resultados esperados}
Em um aspecto mais amplo, o resultado do produto é iniciar um processo aberto de apropriação das análises e mecanismos de autorregulação para o portal federal de participação social.

Como resultados diretos destes resultados, constam:
\begin{itemize}
    \item a habilitação para uso da API HTTP para recomendação de recursos do participa.br.
    \item A interface para apreensão e inovação dos algoritmos, não somente exemplificada ou projetada, mas operante e disponível.
    \item Um plano de implementação para o participa.br, que utiliza a API de recomendação para priorização de conteúdo e autorregulação.
    \item Transparência absoluta no trabalho, com toda a documentação e código computacional online em um repositório git que contem o histórico de implementação.
    \item Algoritmos implementados em código de simples leitura, para facilitar a implementação em Ruby ou Javascript, quando houverem recursos maduros para estas linguagens. (No momento, Python possui mais recursos e mais maduros tanto para redes complexas quanto para processamento de linguagem natural, o que justifica o servidor.)
    \item Habilitação de implementações em andamento, como o plugin de recomendação de perfis~\cite{AIFeitosa}, para recomendar amigos para visitantes ou participantes. 
\end{itemize}
\subsubsection{Caráter inovador}
Centralmente, este trabalho é inovador na aplicação de recursos de análise de redes sociais de forma comunitária, entregando as tecnologias e priorizando a reutilização. Este recurso é de vital interesse para a democracia participativa no contexto atual, com as revoluções da internet e redes sociais. Permite, em última instância, que haja uma inteligência para aproveitamento das estruturas sociais, e que esta inteligência seja pública, transparente, minimizando vetores vigilantistas ou turvos.

Há a inovação na arquitetura em software, apresentando traços de web 3.0 como os dados linkados como base de conhecimento e os múltiplos recursos online acessados no funcionamento usual (ao menos endpoint sparql para acesso aos dados, API HTTP Flask para tratar os dados e gerar estatísticas e estruturas de interesse, participa.br para interface e contexto pertinente).

Há inovação na difusão científica. Dados Linkados, Processamento de Linguagem Natural (PLN) e Redes Complexas (RC) são três termos empregados em textos científicos, consistindo de áreas que recebem pesquisas, revistas dedicadas e até carreiras científicas inteiras. Neste trabalho este conteúdo está em português e se presta a orientar contribuições de outras partes interessadas e de curiosos.

Os métodos de recomendação em si não foram confrontados exaustivamente com a literatura, mas possivelmente possui também inovações nos procedimentos e certamente no contexto de implementação, tanto de relevância social quanto de aparato tecnológico.

\subsubsection{Aparato em software e hardware}

O sistema de recomendações precisa ser mantido online, e isso implica na manutenção de uma estrutura em hardware e software que extrapola o objeto deste produto. As especificações desta arquitetura de software e hardware estão em um documento escrito pelo consultor a pedido da PR para a SNAS e DITEC~\cite{smDITEC}. Para fins de pesquisa e de entrega deste produto, o esquema da figura~\ref{fig:sm} é realizado em máquinas de pesquisa da USP, concedidas para a pesquisa de doutorado do consultor. Tal configuração é razoável pois a pesquisa conflui e é potencializada por esta consultoria, mas está prevista uma infraestrutura própria da PR para estes serviços. Além disso, os usos atuais ainda são moderados, sem causar sobrecarga ao serviços de computação em nuvem da USP.

[Figura/Diagrama do endpoint+serv flask+frontEnd noosfero]

\section{Desenvolvimento}\label{sec:dev}
O produto é descrito no Termo de Referência desta consultoria assim: ``Documento com proposta de adaptações e incrementos para a interface do portal e suas ferramentas que inclua elementos visuais e de usabilidade para mecanismos de priorização de conteúdos e auto-regulação com base nos metadados gerados nativamente pela plataforma do portal e nas análises de PLN e RC produzidas pelas ferramentas assistidas''.

Dada a dimensão do participa.br, tanto da estrutura em software e das práticas participativas, quanto de mobilização humana, as propostas de adaptações para o portal são muitas e estão em diversos produtos deste e de outros consultores. Uma forma especialmente pertinente de realizar este produto, confluente com o Termo de Referência desta consultoria, com o trabalho dos gestores e comunidade e com os produtos deste e de outros consultores~\cite{prodExtra}, é a entrega de um sistema de recomendação de recursos para o participa.br.

Conforme discutido em reunião com gestores e comunidade do participa.br~\cite{padProd4}, em termos de priorização de conteúdo, quase todos os casos de interesse para o atual participa.br podem ser considerados sistemas de recomendação. Além disso, os mecanismos de autorregulação são convenientemente calcados na adição de conteúdo e na espontaneidade dos participantes, o que pode novamente ser considerado através de sistemas de recomendação.

Desta forma, foi idealizada a entrega de um sistema de recomendação de recursos do participa.br para seus usuários, comunidades e linha editorial. A subseção a seguir detalha componentes da versão operante deste sistema de recomendação de recursos. A seção~\ref{sec:uso} compreende previsões e propostas de integração com o participa.br.

\subsection{Etapas de desenvolvimento anteriores a este produto}
\subsubsection{Sistematização ontológica da participação online}
Através de estudos e reuniões presenciais e online, Ontologia de Participação Social (OPS) foi revisada~\cite{OPS} e a Ontologia do Participa.br (OPA) foi feita~\cite{OPA}.
\subsubsection{Triplificação dos dados do participa.br}
Feito um script para triplificar os dados do Participa.br, ou seja, enriquecimento semântico e escrita em RDF dos dados em Postgresql da instância Noosfero do Participa.br~\cite{triplifica}.
\subsubsection{Levantamento do endpoint SparQL}
Para uso dos dados triplificados, pode-se recorrer a diversos métodos de leitura e disponibilização. Um método-chave é a disponibilização dos dados rdf (\emph{triple store}) em um \emph{endpoint sparql}. Para os fins de testes e usos leves (avisar consultor), está disponibilizado um endpoint SparQL em servidores da USP para pesquisa do consultor~\cite{endpoint}.
\subsubsection{Análises iniciais, modelos}
Análises dos dados do participa.br foram abertas no IPython Notebook, com ênfase no texto produzido e nas redes formadas~\cite{repoProd3}.
\subsection{Etapas de desenvolvimento deste produto}
\subsubsection{Reuniões com equipe do participa.br}
Especial agradecimentos ao Ricardo Poppi, Ronald Costa, Enaile Ladanza, Joênio Costa, Daniela Feitosa e Fernando Cruz.
\subsubsection{Estudos de aprofundamento e amadurecimento}
Em especial, foram lidos todos os produtos entregues pelos consultores, visitados cursos no coursera e literatura científica~\cite{pnudExtra}.
\subsubsection{Escrita deste documento}
Através da escrita deste documento, várias informações foram organizadas e sistematizadas, facilitando compreensão do contexto para especificação da API e entrega do produto.
\subsubsection{Especificação da API de recomendação}
Basicamente: quais URLs para recomendar quais recursos para quem, conforme explicitado no Apêndice~\ref{sec:api}.
\subsubsection{Implementação do serviço para aquisição dos dados, processamento e entrega em JSON}
Para a API da etapa acima, foi necessário desenvolver um servidor Flask cujas rotinas estão expostas conforme a etapa abaixo.
\subsubsection{Disponibilização das rotinas no IPython Notebook}
Para expor os critérios de recomendação, e auxilizar análises e versões diferentes, as rotinas estão em um IPython Notebook. Veja o Apêndice~\ref{sec:algs} para uma exposição e detalhamento destas rotinas.
\subsubsection{Proposta de implementações no portal federal de participação social}
Com base no sistema de recomendações, nas demandas levantadas em reuniões e nos produtos já feitos por este e outros consultores, foi sistematizado um conjunto de propostas de acréscimos para o portal federal, detalhado no Apêndice~\ref{sec:acr}.
\subsection{Justificativa do método}
São usados diversos métodos neste produto. As justificativas se concentram nas tecnologias de web 3.0, de dados linkados, e nas demandas da equipe do participa.br, detectadas em reuniões e documentações produzidas~\cite{pnudExtra}.
\subsection{Justificativa das fontes}
A equipe do participa.br é a equipe da Presidência da República voltada para participação social. As fontes externas utilizadas, como artigos, livros e videos, são parte da pesquisa acadêmica do consultor, que possui produção bibliográfica própria.
\subsection{Confronto entre os resultados esperados e os alcançados}
No Termo de Referência desta consultoria, este produto é descrito como ``Documento com proposta de adaptações e incrementos para a interface do portal''. Este produto entrega estas propostas na forma de modificações a serem implementadas no portal federal de participação social. Além disso, para facilitar estas implementações e fazer a conexão com os desenvolvimentos ontológicos e de dados linkados, foi implementado e disponibilizado um sistema de recomendação de recursos para o participa.br. Um terceiro expoente deste terceiro produto é a visita aos produtos dos outros consultores que, aliada às reuniões e pesquisas do consultor, fortalece a integração e pertinência do produto.
\section{Usos dos resultados}\label{sec:uso}
Há usos previstos do sistema de recomendação, pois são demandas da equipe. Em especial, há o uso para habilitar o plugin de recomendação de perfis em desenvolvimento (ActionItem~\cite{actionItem}).

Há usos próprios dos participantes, como consultas aos recursos recomendados para si e para outros, e usos para a linha editorial do portal. Estes usos podem ser feitos no próprio servidor que disponibiliza o serviço de recomendação. Podem ser adaptados para a interface do participa.br, com plugins ou temas apropriados. Algumas sugestões de implementações estão no Apêndice~\ref{sec:acr}.

Outro uso previsto, e que idealmente contará com incentivos da comunidade, é a evolução destes métodos de recomendação de perfis para melhor atender aos usos do portal e das comunidades. O consultor sugere que as comunidades sejam convidadas a apresentar uma ou mais pessoas com conhecimentos ou diposição para algoritmos e sistematizações. Esta pessoa passaria por uma reunião para apreensão dos métodos de recomendação e análise, com vistas a proposição de melhoras e ampliação das funcionalidades.

As rotinas de recomendação estarão disponíveis online, e editáveis e executáveis no browser no IPython Notebook, o que deve facilitar dinâmicas de compartilhamento e amadurecumento destes processos. Este uso dos resultados deste produto é ainda mais precioso do que a API em si ou o uso dela dentro do participa.br. Mesmo assim, dada a complexidade das técnicas usadas, das tecnologias envolvidas e dos propósitos, o uso da API dentro do participa.br trará menos desafios que a apreensão, aproveitamento e melhora destes métodos pela comunidade de democracia participativa.

Um uso previso é contemplar recursos de uma biblioteca digital assim como conteplar buscas e itens da biblioteca digital do participa.br como referência para indicar recursos ao participante. Análises dos dados do participa.br podem ser feitas diariamente e constar como documentos da biblioteca digital. Outras análises especiais podem entrar como itens na biblioteca digital, facilitadas com as rotinas já disponibilizadas, e facilitando outras, pois não exige instalação alguma, apenas visitas para páginas html via browsers usuais.

\section{Conclusão}
\subsection{Comentários, sugestões, recomendações}
O consultor recomenda que haja amadurecimentos em encontros, tanto para melhora deste legado do participa.br, quanto para apreensão dos métodos pela comunidades interessadas. 

As estruturas básicas para as análises e recomendações, que são as redes (de amizade e de interação) e os histogramas de palavras, podem ser convenientemente incluidos na triplificação dos dados, de forma que as recomendações e análises fiquem mais leves. Por hora, para viabilizar o uso, o sistema de recomendações refaz estas estruturas caso seja visitado o caminho \url{recomenda/atualiza}. Estas estruturas são:
\begin{itemize}
    \item Rede de amizades.
    \item Rede de interação.
    \item Histograma de palavras de todos os textos e comentários do participa.br.
    \item Seleção das X (200-400) palavras mais ocorrentes para caracterizar o domínio).
    \item Histograma de palavras de cada usuário.
    \item Contagem das ocorrências das palavras selecionadas para caracterizar o domínio (portal participativo).
\end{itemize}

Os métodos de recomendação implementados utilizam separadamente critérios linguísticos ou de interação. Os casos e resultados
já são interessantes e até complexos para uma primeira versão. Há planos para implementações de métodos
que utilizam ambos recursos linguísticos e de relacionamento (topológicos). Por hora, ambas as características podem ser
utilizadas operando as pontuações das recomendações com base no texto com pontuações das recomendações com base em relacionamento.

\subsection{Impacto do Produto para a elaboração, gestão e/ou avaliação de políticas públicas de participação social}
Este trabalho torna disponível uma porção de avaliações automáticas dos processos participativos que ocorreram ou ocorrerem no participa.br. Estas mesmas avaliações podem ser usadas continuamente, facilitando a gestão. A elaboração pode se beneficiar da análise das experiências passadas, facilitada pelos métodos aqui presentes.

Outro impacto pra a elaboração e gestão é basear o método de participação na utilização de métodos de recomendação de recursos. Por exemplo: pode-se recomendar que participantes com características X faça provocações. Estas provocações são enviadas para outros participantes como recomendações. Ainda a outros participantes pode ser recomendada a sistematização destes resultados. Um exemplo mais próximo da democracia participativa atual é uma etapa em que os participantes escrevem para recomendados participantes para fazer contato e iniciar discussões.

\subsection{Como o Produto deverá impactar o público-alvo das políticas públicas a que se refere}
As comunidades afeitas à participação social poderão aproveitar estas análises para melhor assimilação dos processos participativos, para relatórios, para gerar novos métodos de recomendação que melhor atendam aos interesses específicos das comunidades ou aos interesses da democracia participativa.

Um impacto imediato é a transparência reforçada dos processos participativos, pois não somente os dados, mas as análises e as recomendações dos recursos do participa.br estão online e publicamente disponíveis.

Outro impacto imediato é a valorização da participação. Sempre que um participante, por exemplo, fizer uma amizade ou comentar uma postagem ou outro comentário, ele estará constando nas redes envolvidas, modificará as análises atuais, e poderá ver seu nome e de outros em ranqueamentos diversos.

\section{Agradecimentos}
O consultor Renato Fabbri agradece ao Joenio Costa pelo template em \LaTeX para os produtos. Agradece à Daniela Feitosa pela reunião para demanda de recomendação de perfis. Agradece aos supervisores do trabalho realizado em torno do participa.br: Ricardo Poppi e Ronald Costa. Agradece ao labMacambira.sf.net e todas as comunidades de software e cultura livre que compõe esta contribuição.
\newpage
\bibliography{bibliografia}
\newpage
%\listoffigures
\input{listadeabreviaturas.tex}
\newpage
\printindex
\newpage
%\input{listadeanexos.tex}
\appendix
\section{Especificação da API de recomendação de recursos do participa.br}\label{sec:api}
Embora as rotinas no Apêndice~\cite{sec:algs} possam ser adaptados para os mais diversos fins, na API disponibilizada há três campos principais e dois auxiliares:
\begin{itemize}
    \item Recurso: o recurso a ser recomendado: participantes, comunidades, trilhas, artigos ou comentários.
    \item Destinatário: para quem está sendo feita a recomendação: participante, comunidade ou linha editorial. Campo auxiliar ``idd'' para id do destinatário (comunidade ou participante).
    \item Método: método para a recomendação: top(ológico), tex(tual) ou hib(rido). Campo auxiliar de polaridade sim(ilar), dis(similar) ou mis(ta).
\end{itemize} 
A url usada para consulta HTTP incorpora os parâmetros da forma usual:
\url{http://<urlDoServidor>/recomenda?recurso=participante&destinatario=comunidade&idd=mirosc&metodo=top&polaridade=mis}
\section{Rotinas de acesso e processamento de dados do participa.br para as recomendações}\label{sec:algs}
\section{Parcela dos participantes que produziram texto ou interação}
[análise no ipython notebook de quantos dos usuários estão nas rede de interação, amizades ou produziram texto]
\section{Infraestrutura do sistema de recomendações}
\section{Instalação e modificação do sistema de recomendações}
\section{Propostas de implementações na interface do portal federal de participação social}\label{sec:acr}
\end{document}
